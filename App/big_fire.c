//Í·ÎÄ¼þheader file//
#include "app_main.h"

uint8_t Big_index_min;
uint8_t Big_index_run;

uint8_t Big_Mirror; 
uint8_t Big_Speed_cnt;
uint8_t Big_shift_cnt; 
uint8_t Big_Speed_reference; 
uint8_t const Big_Fire_tab_array1[13][12][5] = 
{
{//00                  
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x01,  0x00,
0x00,  0x00,  0x00,  0x02,  0x00,
  0x06,  0x00,  0x01,  0x03,  0x02,
0x08,  0x0A,  0x06,  0x0A,  0x0A,  
  0x06,  0x0A,  0x07,  0x0A,  0x09,
0x0A,  0x04,  0x0A,  0x08,  0x05,  
},
{//01
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x02,  0x00,  0x00,  0x02,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x01,  0x00,
0x00,  0x05,  0x00,  0x02,  0x00,
  0x07,  0x00,  0x02,  0x03,  0x02,
0x04,  0x07,  0x0A,  0x04,  0x0A,  
  0x04,  0x05,  0x0A,  0x06,  0x06,
0x03,  0x07,  0x05,  0x08,  0x07, 
},
{//02
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x02,  0x00,
0x02,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x03,  0x00,  0x01,  0x00,
0x00,  0x04,  0x00,  0x02,  0x00,
  0x05,  0x01,  0x02,  0x09,  0x02,
0x08,  0x04,  0x09,  0x05,  0x08,  
  0x06,  0x07,  0x08,  0x07,  0x0A,
0x04,  0x04,  0x0A,  0x06,  0x09,  
},
{//03
  0x00,  0x00,  0x00,  0x02,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x02,  0x00,  0x00,  0x00,
0x00,  0x00,  0x02,  0x00,  0x00,
  0x00,  0x02,  0x01,  0x00,  0x00,
0x00,  0x03,  0x00,  0x00,  0x00,
  0x01,  0x01,  0x00,  0x00,  0x00,
0x00,  0x05,  0x00,  0x01,  0x00,
  0x05,  0x05,  0x01,  0x01,  0x00,
0x0A,  0x08,  0x0A,  0x0A,  0x05,  
  0x06,  0x0A,  0x06,  0x06,  0x0A,
0x0A,  0x09,  0x07,  0x0A,  0x07,  
},
{//04
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x01,  0x00,  0x00,
  0x00,  0x02,  0x00,  0x00,  0x00,
0x00,  0x00,  0x01,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x02,  0x00,  0x00,  0x00,
0x00,  0x04,  0x01,  0x00,  0x00,
  0x02,  0x02,  0x01,  0x00,  0x00,
0x05,  0x0A,  0x06,  0x0A,  0x0A,  
  0x04,  0x0A,  0x07,  0x0A,  0x06,
0x0A,  0x08,  0x0A,  0x08,  0x0A,  
},
{//05
  0x00,  0x02,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x02,  0x00,  0x00,  0x00,
  0x01,  0x00,  0x00,  0x00,  0x00,
0x08,  0x0A,  0x0A,  0x05,  0x0A,  
  0x05,  0x0A,  0x08,  0x06,  0x0A,
0x0A,  0x09,  0x07,  0x0A,  0x09,  
},	
{//06                  
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x02,  0x00,  0x00,
  0x00,  0x02,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x08,  0x02,  0x00,  0x08,  0x02,
  0x05,  0x09,  0x00,  0x09,  0x00,
0x08,  0x0A,  0x06,  0x0A,  0x0A,  
  0x06,  0x0A,  0x07,  0x0A,  0x09,
0x0A,  0x04,  0x0A,  0x08,  0x05,  
},
{//07
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x01,  0x00,  0x00,
  0x00,  0x02,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x04,  0x00,
0x04,  0x05,  0x07,  0x01,  0x00,
  0x01,  0x00,  0x00,  0x07,  0x00,
0x04,  0x07,  0x0A,  0x04,  0x0A,  
  0x04,  0x05,  0x0A,  0x06,  0x06,
0x03,  0x07,  0x05,  0x08,  0x07, 
},
{//08
  0x00,  0x02,  0x01,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x03,  0x00,
0x00,  0x05,  0x00,  0x04,  0x00,
  0x01,  0x00,  0x00,  0x05,  0x00,
0x00,  0x00,  0x00,  0x02,  0x00,
  0x00,  0x00,  0x05,  0x07,  0x00,
0x00,  0x04,  0x09,  0x05,  0x08,  
  0x06,  0x07,  0x08,  0x07,  0x0A,
0x04,  0x04,  0x0A,  0x06,  0x09,  
},
{//09
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x02,  0x00,  0x00,  0x00,
  0x01,  0x00,  0x00,  0x01,  0x00,
0x00,  0x00,  0x00,  0x03,  0x00,
  0x00,  0x00,  0x01,  0x00,  0x00,
0x00,  0x00,  0x00,  0x05,  0x00,
  0x04,  0x00,  0x01,  0x05,  0x00,
0x0A,  0x08,  0x0A,  0x0A,  0x05,  
  0x06,  0x0A,  0x06,  0x06,  0x0A,
0x0A,  0x09,  0x07,  0x0A,  0x07,  
},
{//0A
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x01,  0x00,  0x00,  0x00,
  0x02,  0x00,  0x00,  0x01,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x01,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x04,  0x00,  0x00,  0x00,
  0x04,  0x00,  0x04,  0x00,  0x00,
0x05,  0x0A,  0x06,  0x0A,  0x0A,  
  0x04,  0x0A,  0x07,  0x0A,  0x06,
0x0A,  0x08,  0x0A,  0x08,  0x0A,  
},
{//0B
  0x01,  0x00,  0x00,  0x01,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x01,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x01,  0x00,  0x00,  0x00,
0x01,  0x02,  0x00,  0x00,  0x00,
  0x04,  0x03,  0x01,  0x00,  0x00,
0x08,  0x0A,  0x0A,  0x05,  0x0A,  
  0x05,  0x0A,  0x08,  0x06,  0x0A,
0x0A,  0x09,  0x07,  0x0A,  0x09,  
},
{//0C                  
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x00,  0x00,  0x00,  0x00,
  0x00,  0x00,  0x00,  0x00,  0x00,
0x00,  0x04,  0x00,  0x00,  0x00,
  0x02,  0x06,  0x02,  0x00,  0x00,
0x08,  0x0A,  0x06,  0x0A,  0x0A,  
  0x06,  0x0A,  0x07,  0x0A,  0x09,
0x0A,  0x04,  0x0A,  0x08,  0x05,  
},
};	

void h_Big_Fire_Mode(void)
{
 u8 i,j,k;
 if(FireMode_c!=FireMode)
 { 
  FireMode_c=FireMode;
  Big_Mirror=0;	 
  Big_shift_cnt=0;	 
  Big_index_run=0;	
  Big_Speed_cnt=200; 
  for(i=0;i<12;i++)
  {
    for(j=0;j<5;j++)
      Fire_Data_V[i][j]=0;
  }
 }		
 if(++Big_Speed_cnt>10)
 {		
  Big_Speed_cnt=0;
  if(++Big_index_run>=13)
  {
   Big_index_run=0; 
   if(++Big_shift_cnt>=5)
    {Big_shift_cnt=0;Big_Mirror=~Big_Mirror;}  	
   if(++Big_shift_cnt>=5)
    {Big_shift_cnt=0;Big_Mirror=~Big_Mirror;}  	 
    
  }
  k=Big_shift_cnt;
  for(i=0;i<12;i++)
  {
    for(j=0;j<5;j++)
	{
	 if(!Big_Mirror)
      Fire_Data_V[i][j]=Big_Fire_tab_array1[Big_index_run][i][k]*3;
     else	
      Fire_Data_V[i][j]=Big_Fire_tab_array1[Big_index_run][i][4-k]*3;
     if(++k>=5)
	  k=0; 
    }   
  }
 }
// for(k=0;k<5;k++) 
// {
//  for(i=0;i<12;i++)
//  {
//   for(j=0;j<5;j++)
//   {
//    if(Fire_Data_V[i][j]<Fire_Data_V_sub[i][j])
//     Fire_Data_V[i][j]++;  
//    if(Fire_Data_V[i][j]>Fire_Data_V_sub[i][j])	 
//     Fire_Data_V[i][j]--;   
//   }   
//  } 
// }  
 LoadData_to_MC96F_V();
}


